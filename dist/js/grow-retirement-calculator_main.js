var calculator=new Vue({el:"#calculator",data:{currentAge:"",retirementAge:"",baseSalary:"",savingsYesNo:"",currentSavings:"",annualGrowth:"",retirementIncome:"",totalNeeded:"",A:"",saveAmount:"",percentOfSalary:"",ageAdjusted:"",incomeAdjusted:"",seen:!1,showResults:!1,showError:!1,showAgeError:!1,showExpectations:!0},computed:{},methods:{savingsGoal:function(){this.currentAge&&this.retirementAge&&this.baseSalary&&this.annualGrowth&&this.retirementIncome?(this.showResults=!0,this.showError=!1,this.showAgeError=!1):(this.showError=!0,this.showResults=!1,this.showAgeError=!1),this.currentAge>this.retirementAge&&(this.showResults=!1,this.showAgeError=!0),"no"==this.savingsYesNo&&this.currentSavings;let t=this.currentSavings,e=this.annualGrowth,s=this.retirementAge-this.currentAge;tW=(54-this.currentAge)/s,tW2=(this.retirementAge-54)/s,console.log("tW: "+tW+" tW2: "+tW2);let o=.03*tW+.015*tW2+1;console.log("weighted average: "+o);let r=Math.pow(o,s)*this.baseSalary,n=90-this.retirementAge;console.log("final salary: "+r);let a=r*this.retirementIncome;for(console.log("annual income: "+a),this.totalNeeded=0,i=0;i<n;i++)this.totalNeeded=this.totalNeeded/Math.pow(1+.04/12,12)+a;console.log("total needed: "+this.totalNeeded),console.log(t),"yes"==this.savingsYesNo&&(this.A=t*Math.pow(1+e/12,12*s),console.log("A: "+this.A),this.totalNeeded=this.totalNeeded-this.A,console.log("Total needed adjusted: "+this.totalNeeded)),console.log(s);let h=this.totalNeeded*(e/12)/(Math.pow(1+e/12,12*s)-1);this.percentOfSalary=Math.round(h/(this.baseSalary/12)*100),h=h.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),console.log("Payment: "+h),this.saveAmount="$"+h,this.adjustForAge(t,e),this.adjustForIncome(t,e,r,s,n)},adjustForAge:function(t,e){if("70"==this.retirementAge&&".70"==this.retirementIncome)this.showExpectations=!1;else if("70"!==this.retirementAge){let s=70-this.currentAge,i=Math.pow(1.02,s)*this.baseSalary*this.retirementIncome*20;if("yes"==this.savingsYesNo){i-=t*Math.pow(1+e/12,12*s)}let o=i*(e/12)/(Math.pow(1+e/12,12*s)-1);o=o.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),this.ageAdjusted="If you wait until age 70 to retire, your required monthly savings go down to $"+o+"."}else"70"==this.retirementAge&&(this.ageAdjusted=" ")},adjustForIncome:function(t,e,s,o,r){if(".70"!==this.retirementIncome){let n=.7*s,a=0;for(i=0;i<r;i++)a=a/Math.pow(1+.04/12,12)+n;if("yes"==this.savingsYesNo){a-=t*Math.pow(1+e/12,12*o)}let h=a*(e/12)/(Math.pow(1+e/12,12*o)-1);h=h.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),this.incomeAdjusted="If you can live on a tighter budget in retirement by adjusting your needs to 70% of your final salary, you only need to save $"+h+" per month"}else this.incomeAdjusted=""}}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2FsY3VsYXRvciIsIlZ1ZSIsImVsIiwiZGF0YSIsImN1cnJlbnRBZ2UiLCJyZXRpcmVtZW50QWdlIiwiYmFzZVNhbGFyeSIsInNhdmluZ3NZZXNObyIsImN1cnJlbnRTYXZpbmdzIiwiYW5udWFsR3Jvd3RoIiwicmV0aXJlbWVudEluY29tZSIsInRvdGFsTmVlZGVkIiwiQSIsInNhdmVBbW91bnQiLCJwZXJjZW50T2ZTYWxhcnkiLCJhZ2VBZGp1c3RlZCIsImluY29tZUFkanVzdGVkIiwic2VlbiIsInNob3dSZXN1bHRzIiwic2hvd0Vycm9yIiwic2hvd0FnZUVycm9yIiwic2hvd0V4cGVjdGF0aW9ucyIsImNvbXB1dGVkIiwibWV0aG9kcyIsInNhdmluZ3NHb2FsIiwidGhpcyIsIlAiLCJyIiwidCIsInRXIiwidFcyIiwiY29uc29sZSIsImxvZyIsIndlaWdodGVkQXZlcmFnZSIsImZpbmFsU2FsYXJ5IiwiTWF0aCIsInBvdyIsInllYXJzTmVlZGVkIiwiYW5udWFsSW5jb21lIiwiaSIsIlBNVCIsInJvdW5kIiwidG9Mb2NhbGVTdHJpbmciLCJ1bmRlZmluZWQiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJhZGp1c3RGb3JBZ2UiLCJhZGp1c3RGb3JJbmNvbWUiLCJ0QSIsImFkanVzdGVkVG90YWxOZWVkZWQiLCJQTVQyIiwiYWRqdXN0ZWRBbm51YWxJbmNvbWUiLCJhZGp1c3RlZFRvdGFsTmVlZGVkMiIsIlBNVDMiXSwibWFwcGluZ3MiOiJBQUNBLElBQUFBLFdBQUEsSUFBQUMsSUFBQSxDQUNBQyxHQUFBLGNBQ0FDLEtBQUEsQ0FDQUMsV0FBQSxHQUNBQyxjQUFBLEdBQ0FDLFdBQUEsR0FDQUMsYUFBQSxHQUNBQyxlQUFBLEdBQ0FDLGFBQUEsR0FDQUMsaUJBQUEsR0FDQUMsWUFBQSxHQUNBQyxFQUFBLEdBQ0FDLFdBQUEsR0FDQUMsZ0JBQUEsR0FDQUMsWUFBQSxHQUNB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QyxFQUNBLENBQUFDLHNCQUFBLEVBQUFDLHNCQUFBLElBQ0FwQixLQUFBVixZQUFBLGlGQUFBbUMsRUFBQSxRQUNBLE1BQUF6QixLQUFBcEIsZ0JBQ0FvQixLQUFBVixZQUFBLE1BR0FnQyxnQkFBQSxTQUFBckIsRUFBQUMsRUFBQU8sRUFBQU4sRUFBQVMsR0FDQSxHQUFBLFFBQUFaLEtBQUFmLGlCQUFBLENBQ0EsSUFBQXlDLEVBQUEsR0FBQWpCLEVBQ0FrQixFQUFBLEVBQ0EsSUFBQWIsRUFBQSxFQUFBQSxFQUFBRixFQUFBRSxJQUNBYSxFQUFBQSxFQUFBakIsS0FBQUMsSUFBQSxFQUFBLElBQUEsR0FBQSxJQUFBZSxFQUVBLEdBQUEsT0FBQTFCLEtBQUFsQixhQUFBLENBRUE2QyxHQURBMUIsRUFBQVMsS0FBQUMsSUFBQSxFQUFBVCxFQUFBLEdBQUEsR0FBQUMsR0FHQSxJQUlBeUIsRUFKQUQsR0FBQXpCLEVBQUEsS0FFQVEsS0FBQUMsSUFBQSxFQUFBVCxFQUFBLEdBQUEsR0FBQUMsR0FBQSxHQUlBeUIsRUFBQUEsRUFBQVgsb0JBQUFDLEVBQ0EsQ0FBQUMsc0JBQUEsRUFBQUMsc0JBQUEsSUFDQXBCLEtBQUFULGVBQUEsaUlBQUFxQyxFQUFBLGtCQUVBNUIsS0FBQVQsZUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICB2YXIgY2FsY3VsYXRvciA9IG5ldyBWdWUoe1xuICAgIGVsOiAnI2NhbGN1bGF0b3InLFxuICAgIGRhdGE6IHtcbiAgICAgIGN1cnJlbnRBZ2U6ICcnLFxuICAgICAgcmV0aXJlbWVudEFnZTogJycsXG4gICAgICBiYXNlU2FsYXJ5OiAnJyxcbiAgICAgIHNhdmluZ3NZZXNObzogJycsXG4gICAgICBjdXJyZW50U2F2aW5nczogJycsXG4gICAgICBhbm51YWxHcm93dGg6ICcnLFxuICAgICAgcmV0aXJlbWVudEluY29tZTogJycsXG4gICAgICB0b3RhbE5lZWRlZDogJycsXG4gICAgICBBOiAnJyxcbiAgICAgIHNhdmVBbW91bnQ6ICcnLFxuICAgICAgcGVyY2VudE9mU2FsYXJ5OiAnJyxcbiAgICAgIGFnZUFkanVzdGVkOiAnJyxcbiAgICAgIGluY29tZUFkanVzdGVkOiAnJyxcbiAgICAgIHNlZW46IGZhbHNlLFxuICAgICAgc2hvd1Jlc3VsdHM6IGZhbHNlLFxuICAgICAgc2hvd0Vycm9yOiBmYWxzZSxcbiAgICAgIHNob3dBZ2VFcnJvcjogZmFsc2UsXG4gICAgICBzaG93RXhwZWN0YXRpb25zOiB0cnVlXG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAvLyBmdW5jdGlvbnMgZ28gaGVyZVxuICAgICAgc2F2aW5nc0dvYWw6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBZ2UgJiYgdGhpcy5yZXRpcmVtZW50QWdlICYmIHRoaXMuYmFzZVNhbGFyeSAmJiB0aGlzLmFubnVhbEdyb3d0aCAmJiB0aGlzLnJldGlyZW1lbnRJbmNvbWUpIHtcbiAgICAgICAgICB0aGlzLnNob3dSZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNob3dFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuc2hvd0FnZUVycm9yID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuc2hvd1Jlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnNob3dBZ2VFcnJvciA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFnZSA+IHRoaXMucmV0aXJlbWVudEFnZSkge1xuICAgICAgICAgIHRoaXMuc2hvd1Jlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnNob3dBZ2VFcnJvciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zYXZpbmdzWWVzTm8gPT0gJ25vJykge1xuICAgICAgICAgIHRoaXMuY3VycmVudFNhdmluZ3MgPT09ICcwJztcbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGxldCBQID0gdGhpcy5jdXJyZW50U2F2aW5ncyxcbiAgICAgICAgICAgIHIgPSB0aGlzLmFubnVhbEdyb3d0aCxcbiAgICAgICAgICAgIHQgPSB0aGlzLnJldGlyZW1lbnRBZ2UgLSB0aGlzLmN1cnJlbnRBZ2VcbiAgICAgICAgICAgIHRXID0gKDU0IC0gdGhpcy5jdXJyZW50QWdlKS90LFxuICAgICAgICAgICAgdFcyID0gKHRoaXMucmV0aXJlbWVudEFnZSAtIDU0KS90O1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInRXOiBcIiArIHRXICsgXCIgdFcyOiBcIiArIHRXMik7XG5cbiAgICAgICAgbGV0IHdlaWdodGVkQXZlcmFnZSA9ICh0VyouMDMgKyB0VzIqLjAxNSkrMTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIndlaWdodGVkIGF2ZXJhZ2U6IFwiICsgd2VpZ2h0ZWRBdmVyYWdlKVxuICAgICAgICBcbiAgICAgICAgbGV0IGZpbmFsU2FsYXJ5ID1cbiAgICAgICAgICAgIE1hdGgucG93KHdlaWdodGVkQXZlcmFnZSwgdCkgKiB0aGlzLmJhc2VTYWxhcnk7XG4gICAgICAgIGxldCB5ZWFyc05lZWRlZCA9IDkwIC0gdGhpcy5yZXRpcmVtZW50QWdlO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmluYWwgc2FsYXJ5OiBcIiArIGZpbmFsU2FsYXJ5KVxuXG4gICAgICAgIGxldCBhbm51YWxJbmNvbWUgPSBmaW5hbFNhbGFyeSAqIHRoaXMucmV0aXJlbWVudEluY29tZTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcImFubnVhbCBpbmNvbWU6IFwiICsgYW5udWFsSW5jb21lKVxuXG4gICAgICAgIHRoaXMudG90YWxOZWVkZWQgPSAwO1xuXG4gICAgICAgIGZvciAoaT0wOyBpIDwgeWVhcnNOZWVkZWQ7IGkrKykge1xuICAgICAgICAgIHRoaXMudG90YWxOZWVkZWQgPSAodGhpcy50b3RhbE5lZWRlZC8oTWF0aC5wb3coMSsoLjA0LzEyKSwxMikpKSArIGFubnVhbEluY29tZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwidG90YWwgbmVlZGVkOiBcIiArIHRoaXMudG90YWxOZWVkZWQpXG5cbiAgICAgICAgY29uc29sZS5sb2coUClcblxuICAgICAgICBpZiAodGhpcy5zYXZpbmdzWWVzTm8gPT0gJ3llcycpIHtcbiAgICAgICAgICB0aGlzLkEgPSBQICogTWF0aC5wb3coKDErKHIvMTIpKSwgMTIqdCk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBOiBcIiArIHRoaXMuQSk7XG4gICAgICAgICAgdGhpcy50b3RhbE5lZWRlZCA9IHRoaXMudG90YWxOZWVkZWQgLSB0aGlzLkE7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUb3RhbCBuZWVkZWQgYWRqdXN0ZWQ6IFwiICsgdGhpcy50b3RhbE5lZWRlZClcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY29uc29sZS5sb2codClcblxuICAgICAgICBsZXQgUE1UY2FsY190b3AgPSB0aGlzLnRvdGFsTmVlZGVkKihyLzEyKTtcblxuICAgICAgICBsZXQgUE1UY2FsY19ib3R0b20gPSBNYXRoLnBvdygxKyhyLzEyKSwgMTIqdCkgLSAxO1xuXG4gICAgICAgIGxldCBQTVQgPSBQTVRjYWxjX3RvcC9QTVRjYWxjX2JvdHRvbTtcblxuICAgICAgICB0aGlzLnBlcmNlbnRPZlNhbGFyeSA9IE1hdGgucm91bmQoUE1ULyh0aGlzLmJhc2VTYWxhcnkvMTIpICogMTAwKVxuXG4gICAgICAgIFBNVCA9IFBNVC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjAsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6MH0pOztcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlBheW1lbnQ6IFwiICsgUE1UKVxuXG4gICAgICAgIHRoaXMuc2F2ZUFtb3VudCA9ICckJyArIFBNVDtcblxuICAgICAgICB0aGlzLmFkanVzdEZvckFnZShQLCByKTtcbiAgICAgICAgdGhpcy5hZGp1c3RGb3JJbmNvbWUoUCwgciwgZmluYWxTYWxhcnksIHQsIHllYXJzTmVlZGVkKTtcblxuXG4gICAgICB9LFxuICAgICAgYWRqdXN0Rm9yQWdlOiBmdW5jdGlvbihQLCByKSB7XG4gICAgICAgIGlmICh0aGlzLnJldGlyZW1lbnRBZ2UgPT0gJzcwJyAmJiB0aGlzLnJldGlyZW1lbnRJbmNvbWUgPT0gJy43MCcpIHtcbiAgICAgICAgICB0aGlzLnNob3dFeHBlY3RhdGlvbnM9ZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXRpcmVtZW50QWdlICE9PSAnNzAnKSB7XG4gICAgICAgICAgICBsZXQgdEEgPSA3MCAtIHRoaXMuY3VycmVudEFnZTtcbiAgICAgICAgICAgIGxldCBmaW5hbFNhbGFyeUEgPSBNYXRoLnBvdygxLjAyLCB0QSkgKiB0aGlzLmJhc2VTYWxhcnk7XG4gICAgICAgICAgICBsZXQgYWRqdXN0ZWRUb3RhbE5lZWRlZCA9IGZpbmFsU2FsYXJ5QSAqIHRoaXMucmV0aXJlbWVudEluY29tZSAqIDIwO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2F2aW5nc1llc05vID09ICd5ZXMnKSB7XG4gICAgICAgICAgICAgIGxldCBhQSA9IFAgKiBNYXRoLnBvdygoMSsoci8xMikpLCAxMip0QSk7XG4gICAgICAgICAgICAgIGFkanVzdGVkVG90YWxOZWVkZWQgPSBhZGp1c3RlZFRvdGFsTmVlZGVkIC0gYUE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgUE1UY2FsY190b3AyID0gYWRqdXN0ZWRUb3RhbE5lZWRlZCooci8xMik7XG5cbiAgICAgICAgICAgIGxldCBQTVRjYWxjX2JvdHRvbTIgPSBNYXRoLnBvdygxKyhyLzEyKSwgMTIqdEEpIC0gMTtcblxuICAgICAgICAgICAgbGV0IFBNVDIgPSBQTVRjYWxjX3RvcDIvUE1UY2FsY19ib3R0b20yO1xuXG4gICAgICAgICAgICBQTVQyID0gUE1UMi50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHsnbWluaW11bUZyYWN0aW9uRGlnaXRzJzowLCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnOjB9KTs7XG4gICAgICAgICAgICB0aGlzLmFnZUFkanVzdGVkID0gXCJJZiB5b3Ugd2FpdCB1bnRpbCBhZ2UgNzAgdG8gcmV0aXJlLCB5b3VyIHJlcXVpcmVkIG1vbnRobHkgc2F2aW5ncyBnbyBkb3duIHRvICRcIiArIFBNVDIgKyBcIi5cIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmV0aXJlbWVudEFnZSA9PSAnNzAnKSB7XG4gICAgICAgICAgICB0aGlzLmFnZUFkanVzdGVkID0gXCIgXCI7XG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFkanVzdEZvckluY29tZTogZnVuY3Rpb24oUCwgciwgZmluYWxTYWxhcnksIHQsIHllYXJzTmVlZGVkKSB7XG4gICAgICAgIGlmICh0aGlzLnJldGlyZW1lbnRJbmNvbWUgIT09IFwiLjcwXCIpIHtcbiAgICAgICAgICAgIGxldCBhZGp1c3RlZEFubnVhbEluY29tZSA9IGZpbmFsU2FsYXJ5ICogMC43O1xuICAgICAgICAgICAgbGV0IGFkanVzdGVkVG90YWxOZWVkZWQyID0gMDtcbiAgICAgICAgICAgIGZvciAoaT0wOyBpIDwgeWVhcnNOZWVkZWQ7IGkrKykge1xuICAgICAgICAgICAgICBhZGp1c3RlZFRvdGFsTmVlZGVkMiA9IChhZGp1c3RlZFRvdGFsTmVlZGVkMi8oTWF0aC5wb3coMSsoLjA0LzEyKSwxMikpKSArIGFkanVzdGVkQW5udWFsSW5jb21lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2F2aW5nc1llc05vID09ICd5ZXMnKSB7XG4gICAgICAgICAgICAgIGxldCBpQSA9IFAgKiBNYXRoLnBvdygoMSsoci8xMikpLCAxMip0KTtcbiAgICAgICAgICAgICAgYWRqdXN0ZWRUb3RhbE5lZWRlZDIgPSBhZGp1c3RlZFRvdGFsTmVlZGVkMiAtIGlBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IFBNVGNhbGNfdG9wMyA9IGFkanVzdGVkVG90YWxOZWVkZWQyKihyLzEyKTtcblxuICAgICAgICAgICAgbGV0IFBNVGNhbGNfYm90dG9tMyA9IE1hdGgucG93KDErKHIvMTIpLCAxMip0KSAtIDE7XG5cbiAgICAgICAgICAgIGxldCBQTVQzID0gUE1UY2FsY190b3AzL1BNVGNhbGNfYm90dG9tMztcblxuICAgICAgICAgICAgUE1UMyA9IFBNVDMudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgICB7J21pbmltdW1GcmFjdGlvbkRpZ2l0cyc6MCwnbWF4aW11bUZyYWN0aW9uRGlnaXRzJzowfSk7O1xuICAgICAgICAgIHRoaXMuaW5jb21lQWRqdXN0ZWQgPSBcIklmIHlvdSBjYW4gbGl2ZSBvbiBhIHRpZ2h0ZXIgYnVkZ2V0IGluIHJldGlyZW1lbnQgYnkgYWRqdXN0aW5nIHlvdXIgbmVlZHMgdG8gNzAlIG9mIHlvdXIgZmluYWwgc2FsYXJ5LCB5b3Ugb25seSBuZWVkIHRvIHNhdmUgJFwiICsgUE1UMyArIFwiIHBlciBtb250aFwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5pbmNvbWVBZGp1c3RlZCA9IFwiXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbi8vIH0sIDEwMDApIl19
